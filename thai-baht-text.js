'use strict';Object.defineProperty(exports,'__esModule',{value:true});var _async=require('async');var convert=function convert(numberInput){var subfix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var numberStr=numberInput.toString();var numbersText='ศูนย์,หนึ่ง,สอง,สาม,สี่,ห้า,หก,เจ็ด,แปด,เก้า,สิบ'.split(',');var unitsText='สิบ,ร้อย,พ้น,หมื่น,แสน,ล้าน'.split(',');var textOutput='';for(var i=numberStr.length-1;i>=0;i--){var currentNumber=Number(numberStr.charAt(i));var numberText=numbersText[currentNumber];var unitText='';if(i!==numberStr.length-1){unitText=unitsText[numberStr.length-2-i]}if(numberStr.length-(i+1)===1&&currentNumber<=2){if(currentNumber===2){unitText='ยี่สิบ'}else{numberText=''}}textOutput=numberText+unitText+subfix+textOutput}return textOutput};var convertAsync=function convertAsync(numberInput){var subfix=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'';var numberStr=numberInput.toString();numberStr=numberStr.split('').reverse().join('');var numbersText='ศูนย์,หนึ่ง,สอง,สาม,สี่,ห้า,หก,เจ็ด,แปด,เก้า,สิบ'.split(',');var unitsText='สิบ,ร้อย,พ้น,หมื่น,แสน,ล้าน'.split(',');var textOutput='';return new Promise(function(done){(0,_async.eachOf)(numberStr,function(number,i,callback){var currentNumber=Number(number);var numberText=numbersText[currentNumber];var unitText='';if(i!==numberStr.length-1){unitText=unitsText[numberStr.length-2-i]}if(numberStr.length-(i+1)===1&&currentNumber<=2){if(currentNumber===2){unitText='ยี่สิบ'}else{numberText=''}}textOutput=numberText+unitText+subfix+textOutput;callback()},function(){done(textOutput)})})};exports.default=function(numberInput){var numberStr=numberInput.toString();var decimalStr=numberStr.split('.')[0];var floatingStr=numberStr.split('.')[1];var textOutput='';textOutput=convert(decimalStr);if(floatingStr!==undefined){textOutput=textOutput+'บาท'+convert(floatingStr)+'สตางค์'}else{textOutput=textOutput+'บาทถ้วน'}return textOutput};exports.convertAsync=function(numberInput){var numberStr=numberInput.toString();var decimalStr=numberStr.split('.')[0];var floatingStr=numberStr.split('.')[1];var millionCount=decimalStr.length>7?decimalStr.length%7:0;console.log(millionCount);var textOutput='';return new Promise(function(done){convertAsync(decimalStr).then(function(str){textOutput=str;if(floatingStr!==undefined){convertAsync(floatingStr).then(function(floatingStrOutput){textOutput=textOutput+'บาท'+floatingStrOutput+'สตางค์';done(textOutput)})}else{textOutput=textOutput+'บาทถ้วน';done(textOutput)}})})};exports.test=function(){console.log('just test!')};module.exports=exports['default'];module.exports.async=exports.convertAsync;